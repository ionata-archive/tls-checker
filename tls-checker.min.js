/*! TLSChecker v0.1.0 | (c) 2015 Ionata Digital. | ISC license */
!function(e,n,r){function t(){if(null!==y)return y;y=!1;try{"localStorage"in e&&null!==e.localStorage&&(localStorage.setItem(c,"test"),y="test"===localStorage.getItem(c),localStorage.removeItem(c))}catch(n){}return y}function o(e,n){if(!e||!e.tls_version)return!1;var r=!1;for(var t in n)if(n[t]==e.tls_version){r=!0;break}return r}function a(e){if(null!==v)return void setTimeout(function(){e(v)});if(null===S&&t()){var n=localStorage.getItem("isTLSCompatible");if(n&&14===n.length){var r=parseInt(n.substr(1),10),a=+new Date;if(r+d>a){S="y"===n.substr(0,1);var l=(S?"y":"n")+a;localStorage.setItem("isTLSCompatible",l)}}}if(null!==S)return void setTimeout(function(){e(v,S)});if(g){var i=new Error("Already running");return i.name="already-running",void setTimeout(function(){e(i)})}g=!0;try{s(f,function(n,r){if(g=!1,n)v=n;else if(S=o(r,m),t()){var a=+new Date,l=(S?"y":"n")+a;localStorage.setItem("isTLSCompatible",l)}setTimeout(function(){e(v,S)})})}catch(u){setTimeout(function(){g=!1;var n=new Error("AJAX/Server error");n.name="ajax-server-error",e(n)})}}function l(e){v=S=null,a(e)}function i(){return"undefined"!=typeof h&&(e.TLSChecker=h,h=r),T}var u="0.1.0",c="tls"+function(e){return Array(e+1).join((Math.random().toString(36)+"00000000000000000").slice(2,18)).slice(0,e)}(10);if("jQuery"in e)var s=function(e,n){jQuery.get(e).done(function(e){n(null,e)}).fail(function(e,r,t){var o=new Error(t);o.name=r,n(o)})};else var s=function(t,o){var a="tls-ajax-getter",l=n.head||n.documentElement,i=n.getElementById(a),u=!1;i&&l.removeChild(i),i=n.createElement("script"),e[c]=function(n){u=!0,o(null,n),e[c]=null},i.async=!0,i.id=a,i.src=t+"?callback="+c,i.onload=i.onreadystatechange=function(e,n){if((n||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,!u&&!n)){var r=new Error("TLS server error");r.name="tls-server-error",o(r)}},i.onerror=function(){i.onload(r,!0);var e=new Error("JSONP load error");e.name="jsonp-error",o(e)},l.insertBefore(i,l.firstChild)};var f="https://www.howsmyssl.com/a/check",m=["TLS 1.2","TLS 1.1"],d=2592e5,v=null,S=null,g=!1,y=null;"maybeTLSIncompatible"in e&&(S=e.maybeTLSIncompatible?!1:null);var h=e.TLSChecker,T={version:u,check:a,reCheck:l,noCompat:i,isRunning:function(){return g},setTTL:function(e){d=parseInt(e,10)}};e.TLSChecker=T}(window,document);