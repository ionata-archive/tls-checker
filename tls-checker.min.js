/*! TLSChecker v0.1.1 | (c) 2015 Ionata Digital. | ISC license */
!function(e,n,r){function t(){if(null!==p)return p;p=!1;try{"localStorage"in e&&null!==e.localStorage&&(localStorage.setItem(f,"test"),p="test"===localStorage.getItem(f),localStorage.removeItem(f))}catch(n){}return p}function o(e,n){if(!e||!e.tls_version)return!1;var r=!1;for(var t in n)if(n[t]==e.tls_version){r=!0;break}return r}function a(e){if(null!==g)return void setTimeout(function(){e(g)});if(null===h&&t()){var n=localStorage.getItem("isTLSCompatible");if(n&&14===n.length){var r=parseInt(n.substr(1),10),a=+new Date;if(r+y>a){h="y"===n.substr(0,1);var i=(h?"y":"n")+a;localStorage.setItem("isTLSCompatible",i)}}}if(null!==h)return void setTimeout(function(){e(g,h)});if(T){var u=new Error("Already running");return u.name="already-running",void setTimeout(function(){e(u)})}T=!0;try{c(v,function(n,r){T=!1,n?g=n:l(o(r,S)),setTimeout(function(){e(g,h)})})}catch(s){setTimeout(function(){T=!1;var n=new Error("AJAX/Server error");n.name="ajax-server-error",e(n)})}}function i(e){g=h=null,a(e)}function l(e){if(h=!!e,t()){var n=+new Date,r=(h?"y":"n")+n;localStorage.setItem("isTLSCompatible",r)}}function u(){return"undefined"!=typeof b&&(e.TLSChecker=b,b=r),w}var c,s="0.1.1",f="tls"+function(e){return Array(e+1).join((Math.random().toString(36)+"00000000000000000").slice(2,18)).slice(0,e)}(10),m=function(e,n){jQuery.get(e).done(function(e){n(null,e)}).fail(function(e,r,t){var o=new Error(t);o.name=r,n(o)})},d=function(t,o){var a="tls-ajax-getter",i=n.head||n.documentElement,l=n.getElementById(a),u=!1;l&&i.removeChild(l),l=n.createElement("script"),e[f]=function(n){u=!0,o(null,n),e[f]=null},l.async=!0,l.id=a,l.src=t+"?callback="+f,l.onload=l.onreadystatechange=function(e,n){if((n||!l.readyState||/loaded|complete/.test(l.readyState))&&(l.onload=l.onreadystatechange=null,l.parentNode&&l.parentNode.removeChild(l),l=null,!u&&!n)){var r=new Error("TLS server error");r.name="tls-server-error",o(r)}},l.onerror=function(){l.onload(r,!0);var e=new Error("JSONP load error");e.name="jsonp-error",o(e)},i.insertBefore(l,i.firstChild)};c="jQuery"in e?m:d;var v="https://www.howsmyssl.com/a/check",S=["TLS 1.2","TLS 1.1"],y=2592e5,g=null,h=null,T=!1,p=null;"maybeTLSIncompatible"in e&&(h=e.maybeTLSIncompatible?!1:null);var b=e.TLSChecker,w={version:s,check:a,reCheck:i,noCompat:u,isRunning:function(){return T},setTTL:function(e){y=parseInt(e,10)},markAsIncompatible:function(){l(!1)},markAsCompatible:function(){l(!0)},useFallbackGetter:function(){c=d},useJQueryGetter:function(){c=m}};e.TLSChecker=w}(window,document);