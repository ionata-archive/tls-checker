/*! TLSChecker v0.1.0 | (c) 2015 Ionata Digital. | ISC license */
!function(e,n,r){function t(){if(null!==y)return y;y=!1;try{y="localStorage"in e&&null!==e.localStorage}catch(n){}return y}function o(e,n){if(!e||!e.tls_version)return!1;var r=!1;for(var t in n)if(n[t]==e.tls_version){r=!0;break}return r}function a(e){if(null!==d)return void setTimeout(function(){e(d)});if(null===v&&t()){var n=localStorage.getItem("isTLSCompatible");if(n&&14===n.length){var r=parseInt(n.substr(1),10),a=+new Date;if(r+m>a){v="y"===n.substr(0,1);var i=(v?"y":"n")+a;localStorage.setItem("isTLSCompatible",i)}}}if(null!==v)return void setTimeout(function(){e(d,v)});if(S){var l=new Error("Already running");return l.name="already-running",void setTimeout(function(){e(l)})}S=!0;try{c(s,function(n,r){if(S=!1,n)d=n;else if(v=o(r,f),t()){var a=+new Date,i=(v?"y":"n")+a;localStorage.setItem("isTLSCompatible",i)}setTimeout(function(){e(d,v)})})}catch(u){setTimeout(function(){S=!1;var n=new Error("AJAX/Server error");n.name="ajax-server-error",e(n)})}}function i(e){d=v=null,a(e)}function l(){return"undefined"!=typeof h&&(e.TLSChecker=h,h=r),T}var u="0.1.0";if("jQuery"in e)var c=function(e,n){jQuery.get(e).done(function(e){n(null,e)}).fail(function(e,r,t){var o=new Error(t);o.name=r,n(o)})};else var c=function(t,o){var a="tls-ajax-getter",i=n.head||n.documentElement,l=n.getElementById(a),u=!1;l&&i.removeChild(l),l=n.createElement("script");var c="tls"+function(e){return Array(e+1).join((Math.random().toString(36)+"00000000000000000").slice(2,18)).slice(0,e)}(10);e[c]=function(n){u=!0,o(null,n),e[c]=null},l.async=!0,l.id=a,l.src=t+"?callback="+c,l.onload=l.onreadystatechange=function(e,n){if((n||!l.readyState||/loaded|complete/.test(l.readyState))&&(l.onload=l.onreadystatechange=null,l.parentNode&&l.parentNode.removeChild(l),l=null,!u&&!n)){var r=new Error("TLS server error");r.name="tls-server-error",o(r)}},l.onerror=function(){l.onload(r,!0);var e=new Error("JSONP load error");e.name="jsonp-error",o(e)},i.insertBefore(l,i.firstChild)};var s="https://www.howsmyssl.com/a/check",f=["TLS 1.2","TLS 1.1"],m=2592e5,d=null,v=null,S=!1,y=null;"maybeTLSIncompatible"in e&&(v=e.maybeTLSIncompatible?!1:null);var h=e.TLSChecker,T={version:u,check:a,reCheck:i,noCompat:l,isRunning:function(){return S},setTTL:function(e){m=parseInt(e,10)}};e.TLSChecker=T}(window,document);